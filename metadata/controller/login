{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "login"
    },
    "designerId": "b5d93eec-aeee-4106-82cd-a40b79a24fdf",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#BtLogoff",
                "designer|targetType": "Ext.button.Button",
                "fn": "onLogOut",
                "implHandler": [
                    "// success\r",
                    "var successCallback = function(resp, ops) {\r",
                    "    if(resp.responseText === 'true'){\r",
                    "        var Username =  Ext.getCmp('IDtxtUsername');\r",
                    "        var Password =  Ext.getCmp('IDtxtPassword');\r",
                    "        Ext.getCmp('loginForm1').getForm().reset();\r",
                    "        \r",
                    "        localStorage.removeItem(\"user_name\"); //remove\r",
                    "        localStorage.removeItem(\"SectionAHDRID\"); //remove\r",
                    "        localStorage.removeItem(\"new_HICN\"); //remove\r",
                    "        localStorage.removeItem(\"new_HICN_name\"); //remove\r",
                    "        localStorage.removeItem(\"preauthURL\"); //remove\r",
                    "        localStorage.removeItem(\"domain\"); //remove\r",
                    "        localStorage.removeItem(\"email\"); //remove\r",
                    "        \r",
                    "        \r",
                    "        //Login Panel\r",
                    "        Ext.getCmp('panelLoginID').show();\r",
                    "        Ext.getCmp('loginForm1').show();\r",
                    "        \r",
                    "        // hide\r",
                    "        \r",
                    "        Ext.getCmp('Menu').hide();\r",
                    "        Ext.getCmp('Footer').hide();\r",
                    "        Ext.getCmp('Header').hide();\r",
                    "        \r",
                    "        // section A\r",
                    "        Ext.getCmp('SectionAID').hide();\r",
                    "        Ext.getCmp('SectionA1NextID').hide();\r",
                    "        \r",
                    "        // section B\r",
                    "        Ext.getCmp('SectionB1NextID').hide();\r",
                    "        Ext.getCmp('sectionB1ID').hide();\r",
                    "        \r",
                    "        //Patient Record\r",
                    "        Ext.getCmp('PatientRecord').hide();\r",
                    "        Ext.getCmp('PatientPanelID').hide();\r",
                    "        Ext.getCmp('PatientViewID').hide();\r",
                    "        \r",
                    "        //Physician Record\r",
                    "        Ext.getCmp('PhysicianPanelID').hide();\r",
                    "        Ext.getCmp('PhysicianViewID').hide();\r",
                    "        Ext.getCmp('PhysicianRecord').hide();\r",
                    "        \r",
                    "        //Supplier Record\r",
                    "        Ext.getCmp('SupplierRecord').hide();\r",
                    "        Ext.getCmp('SupplierPanelID').hide();\r",
                    "        Ext.getCmp('SupplierViewID').hide();\r",
                    "        \r",
                    "        Ext.getCmp('ViewAll').hide();\r",
                    "        \r",
                    "        Ext.getCmp('AddCOSID').hide();\r",
                    "        \r",
                    "        //Dashboard\r",
                    "        Ext.getCmp('Dashboard').hide();\r",
                    "        \r",
                    "        Ext.getCmp('Messaging').hide();\r",
                    "        \r",
                    "        // hide menus\r",
                    "        Ext.getCmp('SectionBMenu').hide();\r",
                    "        Ext.getCmp('SectionAMenu').hide();\r",
                    "        Ext.getCmp('Menu2Con').hide();\r",
                    "        // refresh store\r",
                    "        var myStore = Ext.getStore('SectionA1GridBind');\r",
                    "        myStore.clearFilter();\r",
                    "        myStore.load();\r",
                    "        \r",
                    "        var myStoreb = Ext.getStore('SectionBGridBind');\r",
                    "        myStoreb.clearFilter();\r",
                    "        myStoreb.load();\r",
                    "    }\r",
                    "};\r",
                    "// Failure\r",
                    "var failureCallback = function(resp, ops) {\r",
                    "    console.log('URL not called');\r",
                    "};\r",
                    "\r",
                    "// TODO: Login using server-side authentication service\r",
                    "Ext.Ajax.request({url: \"services/Function.php?action=logout\",\r",
                    "                  method: 'POST',\r",
                    "                  params:  [Username,Password],\r",
                    "                  success: successCallback,\r",
                    "                  failure: failureCallback\r",
                    "                 });"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "7cb75ddb-45a1-4958-acdb-fb4cd06697cb"
        }
    ]
}